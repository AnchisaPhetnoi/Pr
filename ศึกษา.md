# ศึกษา

## 1.1 Modbus Tcp

#### InfluxDB เป็นฐานข้อมูลที่ออกแบบมาโดยเฉพาะสำหรับจัดเก็บข้อมูลแบบ Time Series หรือข้อมูลที่เรียงตามลำดับเวลา เช่น ข้อมูลเซ็นเซอร์ อุณหภูมิ ความชื้น ข้อมูลการใช้งานเครือข่าย ข้อมูลการเงิน และอื่นๆ อีกมากมาย

#### ทำไมต้องใช้ InfluxDB?

    เก็บข้อมูลได้จำนวนมากและรวดเร็ว: InfluxDB สามารถจัดเก็บข้อมูลจำนวนมากได้อย่างมีประสิทธิภาพ และสามารถเขียนข้อมูลเข้าไปได้อย่างรวดเร็ว ทำให้เหมาะสำหรับระบบที่ต้องการเก็บข้อมูลแบบเรียลไทม์
    ค้นหาข้อมูลตามช่วงเวลา: ด้วยการออกแบบมาเพื่อจัดเก็บข้อมูลแบบ Time Series ทำให้ InfluxDB สามารถค้นหาข้อมูลตามช่วงเวลาที่ต้องการได้อย่างแม่นยำและรวดเร็ว
    วิเคราะห์ข้อมูลได้ง่าย: InfluxDB มีภาษา Query ที่ใช้งานง่ายในการดึงข้อมูลออกมาวิเคราะห์ เช่น หาค่าสูงสุด ต่ำสุด ค่าเฉลี่ย หรือสร้างกราฟแสดงแนวโน้มของข้อมูล
    ใช้งานร่วมกับเครื่องมืออื่นๆ ได้ง่าย: InfluxDB สามารถทำงานร่วมกับเครื่องมืออื่นๆ ได้อย่างหลากหลาย เช่น Grafana, Telegraf, และ Kapacitor ทำให้สามารถสร้าง Dashboard เพื่อแสดงผลข้อมูล หรือสร้าง Alert เมื่อเกิดเหตุการณ์ผิดปกติได้

#### ตัวอย่างการใช้งาน InfluxDB:

    IoT: เก็บข้อมูลจากเซ็นเซอร์ต่างๆ เช่น อุณหภูมิ ความชื้น แสงสว่าง เพื่อนำมาวิเคราะห์และสร้างระบบควบคุม
    เครือข่าย: เก็บข้อมูลการใช้งานเครือข่าย เพื่อตรวจสอบประสิทธิภาพ และหาจุดอ่อนของระบบ
    การเงิน: เก็บข้อมูลราคาหุ้น หรืออัตราแลกเปลี่ยน เพื่อวิเคราะห์แนวโน้มและทำการตัดสินใจ
    ระบบ Cloud: เก็บข้อมูลการใช้งานทรัพยากร เพื่อปรับขนาดระบบให้เหมาะสมกับปริมาณงาน

#### สรุป:

InfluxDB เป็นเครื่องมือที่มีประโยชน์มากสำหรับการจัดเก็บและวิเคราะห์ข้อมูลแบบ Time Series เหมาะสำหรับผู้ที่ต้องการสร้างระบบ IoT, ระบบตรวจสอบประสิทธิภาพ, หรือระบบวิเคราะห์ข้อมูลที่ต้องการความแม่นยำและรวดเร็วในการดึงข้อมูล


#### Modbus TCP
Modbus TCP เป็นโปรโตคอลการสื่อสารที่ใช้สำหรับแลกเปลี่ยนข้อมูลระหว่างอุปกรณ์ต่างๆ ในระบบอุตสาหกรรม โดยเป็นการนำเอาโปรโตคอล Modbus RTU ที่เป็นที่นิยมใช้มาปรับให้สามารถทำงานบนเครือข่าย Ethernet ได้ ทำให้สามารถเชื่อมต่ออุปกรณ์ได้หลากหลายชนิดและระยะทางที่ไกลขึ้น

#### ทำงานอย่างไร?

    Master-Slave: เช่นเดียวกับ Modbus RTU ระบบ Modbus TCP ก็ทำงานแบบ Master-Slave คือจะมีอุปกรณ์ตัวหนึ่งทำหน้าที่เป็น Master (ผู้เริ่มต้นการสื่อสาร) และอุปกรณ์ตัวอื่นๆ จะทำหน้าที่เป็น Slave (ผู้ตอบสนอง)
    TCP/IP: โปรโตคอล Modbus TCP จะทำงานบนชั้น TCP/IP ซึ่งเป็นโปรโตคอลที่ใช้ในการสื่อสารผ่านเครือข่ายอินเทอร์เน็ต ทำให้สามารถเชื่อมต่ออุปกรณ์ได้ผ่านเครือข่าย LAN หรือ WAN
    พอร์ต 502: การสื่อสารผ่าน Modbus TCP จะใช้พอร์ต 502 ซึ่งเป็นพอร์ตที่กำหนดไว้สำหรับโปรโตคอล Modbus TCP โดยเฉพาะ

####  ข้อดีของ Modbus TCP

    เชื่อมต่อได้ระยะไกล: สามารถเชื่อมต่ออุปกรณ์ได้ระยะทางไกลผ่านเครือข่าย Ethernet
    รองรับอุปกรณ์หลากหลาย: สามารถเชื่อมต่อกับอุปกรณ์ที่รองรับโปรโตคอล Modbus ได้หลากหลายชนิด
    ใช้งานง่าย: มีโครงสร้างที่เรียบง่ายและเข้าใจง่าย
    เป็นที่นิยมใช้: เป็นโปรโตคอลที่ได้รับการยอมรับและใช้งานกันอย่างแพร่หลายในอุตสาหกรรม

####  การใช้งาน Modbus TCP

####  Modbus TCP ถูกนำไปใช้ในระบบอุตสาหกรรมหลายประเภท เช่น

    ระบบควบคุม: เช่น PLC, SCADA
    ระบบตรวจวัด: เช่น เซ็นเซอร์วัดอุณหภูมิ, ความดัน
    ระบบขับเคลื่อน: เช่น มอเตอร์, วาล์ว
    ระบบ IoT: เชื่อมต่ออุปกรณ์ต่างๆ เข้ากับอินเทอร์เน็ต

####  สรุป

####  Modbus TCP เป็นโปรโตคอลการสื่อสารที่สำคัญและมีประโยชน์ในการสร้างระบบอัตโนมัติและควบคุมในอุตสาหกรรมต่างๆ หากคุณกำลังทำงานเกี่ยวกับระบบอุตสาหกรรม การทำความเข้าใจเกี่ยวกับ Modbus TCP จะเป็นประโยชน์อย่างมากในการออกแบบและพัฒนาระบบของคุณ

####  ประโยชน์ของ Modbus TCP กับเซ็นเซอร์วัดอุณหภูมิ

    การเก็บรวบรวมข้อมูลระยะไกล:
        ติดตั้งเซ็นเซอร์ได้หลากหลายตำแหน่ง: ไม่จำเป็นต้องติดตั้งเซ็นเซอร์ใกล้กับระบบควบคุม เนื่องจาก Modbus TCP ทำงานผ่านเครือข่าย
        เข้าถึงข้อมูลได้จากทุกที่: สามารถเข้าถึงข้อมูลอุณหภูมิได้จากคอมพิวเตอร์หรืออุปกรณ์เคลื่อนที่ที่เชื่อมต่อกับเครือข่าย
    การควบคุมและกำหนดค่าจากระยะไกล:
        ปรับค่าเซ็นเซอร์ได้ทันที: สามารถปรับเปลี่ยนค่าตั้งต้นของเซ็นเซอร์ เช่น ช่วงการวัด หน่วยวัด ได้จากระยะไกล
        ควบคุมการทำงานของเซ็นเซอร์: สามารถสั่งให้เซ็นเซอร์เริ่มหรือหยุดการทำงานได้จากระยะไกล
    การรวมเข้ากับระบบอื่นๆ:
        เชื่อมต่อกับระบบ SCADA: สามารถนำข้อมูลอุณหภูมิไปแสดงผลบนหน้าจอควบคุม หรือใช้ในการวิเคราะห์ข้อมูล
        เชื่อมต่อกับระบบ IoT: สามารถนำข้อมูลอุณหภูมิไปเก็บไว้บนคลาวด์เพื่อวิเคราะห์เชิงลึก หรือสร้างระบบแจ้งเตือน
    ความน่าเชื่อถือและความปลอดภัย:
        การสื่อสารที่เสถียร: Modbus TCP เป็นโปรโตคอลที่ได้รับการยอมรับและใช้งานกันอย่างแพร่หลาย ทำให้การสื่อสารมีความเสถียรสูง
        การกำหนดสิทธิ์การเข้าถึง: สามารถกำหนดสิทธิ์การเข้าถึงข้อมูลให้กับผู้ใช้งานแต่ละคนได้ เพื่อรักษาความปลอดภัยของข้อมูล

#### การเชื่อมต่อเซ็นเซอร์วัดอุณหภูมิกับเครือข่าย

#### ในการเชื่อมต่อเซ็นเซอร์วัดอุณหภูมิเข้ากับเครือข่ายโดยใช้ Modbus TCP จะต้องมีอุปกรณ์ต่อไปนี้

    เซ็นเซอร์วัดอุณหภูมิ: เซ็นเซอร์ต้องรองรับการสื่อสารผ่าน Modbus TCP
    อุปกรณ์ควบคุม: เช่น PLC หรือ Gateway ที่สามารถสื่อสารผ่าน Modbus TCP ได้
    เครือข่าย Ethernet: ใช้สำหรับเชื่อมต่ออุปกรณ์ต่างๆ เข้าด้วยกัน
    ซอฟต์แวร์: สำหรับตั้งค่าและควบคุมการทำงานของระบบ เช่น ซอฟต์แวร์ SCADA

#### ขั้นตอนการเชื่อมต่อโดยทั่วไป

    กำหนดค่าเซ็นเซอร์: ตั้งค่าพารามิเตอร์ต่างๆ ของเซ็นเซอร์ เช่น ที่อยู่ (Address) บนเครือข่าย, ความเร็วในการสื่อสาร
    กำหนดค่าอุปกรณ์ควบคุม: ตั้งค่าให้อุปกรณ์ควบคุมสามารถสื่อสารกับเซ็นเซอร์ได้ เช่น กำหนดพอร์ตที่ใช้สื่อสาร, ระบุที่อยู่ของเซ็นเซอร์
    เชื่อมต่ออุปกรณ์เข้ากับเครือข่าย: เชื่อมต่อเซ็นเซอร์และอุปกรณ์ควบคุมเข้ากับเครือข่าย Ethernet
    ทดสอบการสื่อสาร: ตรวจสอบว่าอุปกรณ์ทั้งสองสามารถสื่อสารกันได้ตามปกติหรือไม่
    พัฒนาซอฟต์แวร์: พัฒนาซอฟต์แวร์เพื่ออ่านค่าอุณหภูมิจากเซ็นเซอร์ และนำไปแสดงผลหรือประมวลผลต่อไป

#### ตัวอย่างการใช้งาน:

    ระบบควบคุมอุณหภูมิในโรงงาน: ใช้เซ็นเซอร์วัดอุณหภูมิหลายตัวติดตั้งในจุดต่างๆ ของโรงงาน แล้วนำข้อมูลอุณหภูมิมาแสดงผลบนหน้าจอควบคุม เพื่อให้ผู้ปฏิบัติงานสามารถตรวจสอบและควบคุมอุณหภูมิได้
    ระบบเกษตรอัจฉริยะ: ใช้เซ็นเซอร์วัดอุณหภูมิและความชื้นในดิน เพื่อนำข้อมูลไปวิเคราะห์และควบคุมระบบให้น้ำและปุ๋ยแก่พืชได้อย่างเหมาะสม

#### สรุป

Modbus TCP เป็นเทคโนโลยีที่ทรงพลังในการเชื่อมต่อเซ็นเซอร์วัดอุณหภูมิเข้ากับระบบควบคุม ทำให้สามารถเก็บรวบรวมข้อมูลและควบคุมระบบได้อย่างมีประสิทธิภาพและแม่นยำ การนำ Modbus TCP มาใช้จะช่วยเพิ่มประสิทธิภาพในการทำงานและลดต้นทุนในการดำเนินงาน


https://www.nectec.or.th/news/news-public-document/modbus-protocol.html


## รู้จัก  Modbus ก่อน คืออะไร และมันทำงานอย่างไร?

https://youtu.be/txi2p5_OjKU

![ภาพ](https://github.com/user-attachments/assets/c36e2ba0-cfa2-46ff-88c5-c4e27ee2fcc8)

![ภาพ](https://github.com/user-attachments/assets/8a9509c8-8800-4e86-b793-54a11c8ba4c7)

![ภาพ](https://github.com/user-attachments/assets/ac35c601-7334-4dcb-bcc5-663ab51404a5)

![ภาพ](https://github.com/user-attachments/assets/ce148a42-bfdc-446f-94f4-0ff13a5fa3ae)

![ภาพ](https://github.com/user-attachments/assets/850d484f-f76a-41a6-b066-f35c26cf7d33)

![ภาพ](https://github.com/user-attachments/assets/580f1828-9c46-47ff-b6f2-40532c92a813)

![ภาพ](https://github.com/user-attachments/assets/b1327a89-19a2-4911-a115-5d6858ae48b5)


## รู้จัก  Modbus

![ภาพ](https://github.com/user-attachments/assets/fe6d3b68-b3fa-4f70-86c6-a1a8d7b05824)

![ภาพ](https://github.com/user-attachments/assets/d5ff365c-211a-457b-a34a-8f35e2449b36)




##  1.2 MQTT



##  1.3 Rest API



##  1.4 Grpc
