# ศึกษา

## 1.1 Modbus Tcp

#### InfluxDB เป็นฐานข้อมูลที่ออกแบบมาโดยเฉพาะสำหรับจัดเก็บข้อมูลแบบ Time Series หรือข้อมูลที่เรียงตามลำดับเวลา เช่น ข้อมูลเซ็นเซอร์ อุณหภูมิ ความชื้น ข้อมูลการใช้งานเครือข่าย ข้อมูลการเงิน และอื่นๆ อีกมากมาย

#### ทำไมต้องใช้ InfluxDB?

    เก็บข้อมูลได้จำนวนมากและรวดเร็ว: InfluxDB สามารถจัดเก็บข้อมูลจำนวนมากได้อย่างมีประสิทธิภาพ และสามารถเขียนข้อมูลเข้าไปได้อย่างรวดเร็ว 
    ทำให้เหมาะสำหรับระบบที่ต้องการเก็บข้อมูลแบบเรียลไทม์
    ค้นหาข้อมูลตามช่วงเวลา: ด้วยการออกแบบมาเพื่อจัดเก็บข้อมูลแบบ Time Series ทำให้ InfluxDB สามารถค้นหาข้อมูลตามช่วงเวลาที่ต้องการได้อย่างแม่นยำและรวดเร็ว
    วิเคราะห์ข้อมูลได้ง่าย: InfluxDB มีภาษา Query ที่ใช้งานง่ายในการดึงข้อมูลออกมาวิเคราะห์ เช่น หาค่าสูงสุด ต่ำสุด ค่าเฉลี่ย หรือสร้างกราฟแสดงแนวโน้มของข้อมูล
    ใช้งานร่วมกับเครื่องมืออื่นๆ ได้ง่าย: InfluxDB สามารถทำงานร่วมกับเครื่องมืออื่นๆ ได้อย่างหลากหลาย เช่น Grafana, Telegraf, และ Kapacitor ทำให้สามารถสร้าง Dashboard
    เพื่อแสดงผลข้อมูล หรือสร้าง Alert เมื่อเกิดเหตุการณ์ผิดปกติได้

#### ตัวอย่างการใช้งาน InfluxDB:

    IoT: เก็บข้อมูลจากเซ็นเซอร์ต่างๆ เช่น อุณหภูมิ ความชื้น แสงสว่าง เพื่อนำมาวิเคราะห์และสร้างระบบควบคุม
    เครือข่าย: เก็บข้อมูลการใช้งานเครือข่าย เพื่อตรวจสอบประสิทธิภาพ และหาจุดอ่อนของระบบ
    การเงิน: เก็บข้อมูลราคาหุ้น หรืออัตราแลกเปลี่ยน เพื่อวิเคราะห์แนวโน้มและทำการตัดสินใจ
    ระบบ Cloud: เก็บข้อมูลการใช้งานทรัพยากร เพื่อปรับขนาดระบบให้เหมาะสมกับปริมาณงาน

#### สรุป:

InfluxDB เป็นเครื่องมือที่มีประโยชน์มากสำหรับการจัดเก็บและวิเคราะห์ข้อมูลแบบ Time Series เหมาะสำหรับผู้ที่ต้องการสร้างระบบ IoT, ระบบตรวจสอบประสิทธิภาพ, 
หรือระบบวิเคราะห์ข้อมูลที่ต้องการความแม่นยำและรวดเร็วในการดึงข้อมูล


#### Modbus TCP
Modbus TCP เป็นโปรโตคอลการสื่อสารที่ใช้สำหรับแลกเปลี่ยนข้อมูลระหว่างอุปกรณ์ต่างๆ ในระบบอุตสาหกรรม โดยเป็นการนำเอาโปรโตคอล Modbus RTU 
ที่เป็นที่นิยมใช้มาปรับให้สามารถทำงานบนเครือข่าย Ethernet ได้ ทำให้สามารถเชื่อมต่ออุปกรณ์ได้หลากหลายชนิดและระยะทางที่ไกลขึ้น

#### ทำงานอย่างไร?

    Master-Slave: เช่นเดียวกับ Modbus RTU ระบบ Modbus TCP ก็ทำงานแบบ Master-Slave คือจะมีอุปกรณ์ตัวหนึ่งทำหน้าที่เป็น Master (ผู้เริ่มต้นการสื่อสาร) 
    และอุปกรณ์ตัวอื่นๆ จะทำหน้าที่เป็น Slave (ผู้ตอบสนอง)
    TCP/IP: โปรโตคอล Modbus TCP จะทำงานบนชั้น TCP/IP ซึ่งเป็นโปรโตคอลที่ใช้ในการสื่อสารผ่านเครือข่ายอินเทอร์เน็ต ทำให้สามารถเชื่อมต่ออุปกรณ์ได้ผ่านเครือข่าย LAN หรือ WAN
    พอร์ต 502: การสื่อสารผ่าน Modbus TCP จะใช้พอร์ต 502 ซึ่งเป็นพอร์ตที่กำหนดไว้สำหรับโปรโตคอล Modbus TCP โดยเฉพาะ

####  ข้อดีของ Modbus TCP

    เชื่อมต่อได้ระยะไกล: สามารถเชื่อมต่ออุปกรณ์ได้ระยะทางไกลผ่านเครือข่าย Ethernet
    รองรับอุปกรณ์หลากหลาย: สามารถเชื่อมต่อกับอุปกรณ์ที่รองรับโปรโตคอล Modbus ได้หลากหลายชนิด
    ใช้งานง่าย: มีโครงสร้างที่เรียบง่ายและเข้าใจง่าย
    เป็นที่นิยมใช้: เป็นโปรโตคอลที่ได้รับการยอมรับและใช้งานกันอย่างแพร่หลายในอุตสาหกรรม

####  การใช้งาน Modbus TCP

####  Modbus TCP ถูกนำไปใช้ในระบบอุตสาหกรรมหลายประเภท เช่น

    ระบบควบคุม: เช่น PLC, SCADA
    ระบบตรวจวัด: เช่น เซ็นเซอร์วัดอุณหภูมิ, ความดัน
    ระบบขับเคลื่อน: เช่น มอเตอร์, วาล์ว
    ระบบ IoT: เชื่อมต่ออุปกรณ์ต่างๆ เข้ากับอินเทอร์เน็ต

####  สรุป

####  Modbus TCP เป็นโปรโตคอลการสื่อสารที่สำคัญและมีประโยชน์ในการสร้างระบบอัตโนมัติและควบคุมในอุตสาหกรรมต่างๆ 
หากคุณกำลังทำงานเกี่ยวกับระบบอุตสาหกรรม การทำความเข้าใจเกี่ยวกับ Modbus TCP จะเป็นประโยชน์อย่างมากในการออกแบบและพัฒนาระบบของคุณ

####  ประโยชน์ของ Modbus TCP กับเซ็นเซอร์วัดอุณหภูมิ

    การเก็บรวบรวมข้อมูลระยะไกล:
        ติดตั้งเซ็นเซอร์ได้หลากหลายตำแหน่ง: ไม่จำเป็นต้องติดตั้งเซ็นเซอร์ใกล้กับระบบควบคุม เนื่องจาก Modbus TCP ทำงานผ่านเครือข่าย
        เข้าถึงข้อมูลได้จากทุกที่: สามารถเข้าถึงข้อมูลอุณหภูมิได้จากคอมพิวเตอร์หรืออุปกรณ์เคลื่อนที่ที่เชื่อมต่อกับเครือข่าย
    การควบคุมและกำหนดค่าจากระยะไกล:
        ปรับค่าเซ็นเซอร์ได้ทันที: สามารถปรับเปลี่ยนค่าตั้งต้นของเซ็นเซอร์ เช่น ช่วงการวัด หน่วยวัด ได้จากระยะไกล
        ควบคุมการทำงานของเซ็นเซอร์: สามารถสั่งให้เซ็นเซอร์เริ่มหรือหยุดการทำงานได้จากระยะไกล
    การรวมเข้ากับระบบอื่นๆ:
        เชื่อมต่อกับระบบ SCADA: สามารถนำข้อมูลอุณหภูมิไปแสดงผลบนหน้าจอควบคุม หรือใช้ในการวิเคราะห์ข้อมูล
        เชื่อมต่อกับระบบ IoT: สามารถนำข้อมูลอุณหภูมิไปเก็บไว้บนคลาวด์เพื่อวิเคราะห์เชิงลึก หรือสร้างระบบแจ้งเตือน
    ความน่าเชื่อถือและความปลอดภัย:
        การสื่อสารที่เสถียร: Modbus TCP เป็นโปรโตคอลที่ได้รับการยอมรับและใช้งานกันอย่างแพร่หลาย ทำให้การสื่อสารมีความเสถียรสูง
        การกำหนดสิทธิ์การเข้าถึง: สามารถกำหนดสิทธิ์การเข้าถึงข้อมูลให้กับผู้ใช้งานแต่ละคนได้ เพื่อรักษาความปลอดภัยของข้อมูล

#### การเชื่อมต่อเซ็นเซอร์วัดอุณหภูมิกับเครือข่าย

#### ในการเชื่อมต่อเซ็นเซอร์วัดอุณหภูมิเข้ากับเครือข่ายโดยใช้ Modbus TCP จะต้องมีอุปกรณ์ต่อไปนี้

    เซ็นเซอร์วัดอุณหภูมิ: เซ็นเซอร์ต้องรองรับการสื่อสารผ่าน Modbus TCP
    อุปกรณ์ควบคุม: เช่น PLC หรือ Gateway ที่สามารถสื่อสารผ่าน Modbus TCP ได้
    เครือข่าย Ethernet: ใช้สำหรับเชื่อมต่ออุปกรณ์ต่างๆ เข้าด้วยกัน
    ซอฟต์แวร์: สำหรับตั้งค่าและควบคุมการทำงานของระบบ เช่น ซอฟต์แวร์ SCADA

#### ขั้นตอนการเชื่อมต่อโดยทั่วไป

    กำหนดค่าเซ็นเซอร์: ตั้งค่าพารามิเตอร์ต่างๆ ของเซ็นเซอร์ เช่น ที่อยู่ (Address) บนเครือข่าย, ความเร็วในการสื่อสาร
    กำหนดค่าอุปกรณ์ควบคุม: ตั้งค่าให้อุปกรณ์ควบคุมสามารถสื่อสารกับเซ็นเซอร์ได้ เช่น กำหนดพอร์ตที่ใช้สื่อสาร, ระบุที่อยู่ของเซ็นเซอร์
    เชื่อมต่ออุปกรณ์เข้ากับเครือข่าย: เชื่อมต่อเซ็นเซอร์และอุปกรณ์ควบคุมเข้ากับเครือข่าย Ethernet
    ทดสอบการสื่อสาร: ตรวจสอบว่าอุปกรณ์ทั้งสองสามารถสื่อสารกันได้ตามปกติหรือไม่
    พัฒนาซอฟต์แวร์: พัฒนาซอฟต์แวร์เพื่ออ่านค่าอุณหภูมิจากเซ็นเซอร์ และนำไปแสดงผลหรือประมวลผลต่อไป

#### ตัวอย่างการใช้งาน:

    ระบบควบคุมอุณหภูมิในโรงงาน: ใช้เซ็นเซอร์วัดอุณหภูมิหลายตัวติดตั้งในจุดต่างๆ ของโรงงาน แล้วนำข้อมูลอุณหภูมิมาแสดงผลบนหน้าจอควบคุม เพื่อให้ผู้ปฏิบัติงานสามารถตรวจสอบและควบคุมอุณหภูมิได้
    ระบบเกษตรอัจฉริยะ: ใช้เซ็นเซอร์วัดอุณหภูมิและความชื้นในดิน เพื่อนำข้อมูลไปวิเคราะห์และควบคุมระบบให้น้ำและปุ๋ยแก่พืชได้อย่างเหมาะสม

#### สรุป

Modbus TCP เป็นเทคโนโลยีที่ทรงพลังในการเชื่อมต่อเซ็นเซอร์วัดอุณหภูมิเข้ากับระบบควบคุม ทำให้สามารถเก็บรวบรวมข้อมูลและควบคุมระบบได้อย่างมีประสิทธิภาพและแม่นยำ 
การนำ Modbus TCP มาใช้จะช่วยเพิ่มประสิทธิภาพในการทำงานและลดต้นทุนในการดำเนินงาน


https://www.nectec.or.th/news/news-public-document/modbus-protocol.html


## รู้จัก  Modbus ก่อน คืออะไร และมันทำงานอย่างไร?

https://youtu.be/txi2p5_OjKU

![ภาพ](https://github.com/user-attachments/assets/c36e2ba0-cfa2-46ff-88c5-c4e27ee2fcc8)

![ภาพ](https://github.com/user-attachments/assets/8a9509c8-8800-4e86-b793-54a11c8ba4c7)

![ภาพ](https://github.com/user-attachments/assets/ac35c601-7334-4dcb-bcc5-663ab51404a5)

![ภาพ](https://github.com/user-attachments/assets/ce148a42-bfdc-446f-94f4-0ff13a5fa3ae)

![ภาพ](https://github.com/user-attachments/assets/850d484f-f76a-41a6-b066-f35c26cf7d33)

![ภาพ](https://github.com/user-attachments/assets/580f1828-9c46-47ff-b6f2-40532c92a813)

![ภาพ](https://github.com/user-attachments/assets/b1327a89-19a2-4911-a115-5d6858ae48b5)


## รู้จัก  Modbus

![ภาพ](https://github.com/user-attachments/assets/fe6d3b68-b3fa-4f70-86c6-a1a8d7b05824)

## รู้จัก 1. Modbus RTU
![ภาพ](https://github.com/user-attachments/assets/4445e795-490d-4019-aac3-30fb78b4217d)
![ภาพ](https://github.com/user-attachments/assets/df339e31-929a-45be-bc68-89457ce28ad4)
![ภาพ](https://github.com/user-attachments/assets/eadc884c-0061-4e74-a9f0-f9ce76a58645)
![ภาพ](https://github.com/user-attachments/assets/8d224fdb-0b7b-463f-b82e-036e87f54105)

#### เชื่อมต่อ 15 เมตร
![ภาพ](https://github.com/user-attachments/assets/f4061e01-ec0f-43ee-bf6f-d2ccce3a014b)

#### เชื่อมต่อ 50 ฟุต
![ภาพ](https://github.com/user-attachments/assets/620afa9d-0bff-4c4d-a45f-51402abd29f9)

![ภาพ](https://github.com/user-attachments/assets/1f6cb89f-a291-49ee-a40d-258060d91725)

#### เชื่อมต่อ  32 Node 4,000 feet ประมาณ 1,200 เมตร
![ภาพ](https://github.com/user-attachments/assets/33ca232c-b0c6-4e0c-bbab-4360b6da57be)
![ภาพ](https://github.com/user-attachments/assets/eec6ba7b-7f9f-44cb-b4ff-c9695fd233a9)

![ภาพ](https://github.com/user-attachments/assets/82d704e1-bc59-4762-9976-48ae59194207)

![ภาพ](https://github.com/user-attachments/assets/63e39ddb-c66e-4a4a-abaf-14b878337e0a)
![ภาพ](https://github.com/user-attachments/assets/c28361f3-e49f-4a16-a346-b999b34fefc0)

![ภาพ](https://github.com/user-attachments/assets/e58ebb4a-cb52-4c37-b8b3-f9efd8ad745d)
![ภาพ](https://github.com/user-attachments/assets/56601fa7-4932-4c8c-aa82-80c98f3dd7c2)


## รู้จัก 2. Modbus TCP/IP
![ภาพ](https://github.com/user-attachments/assets/d5ff365c-211a-457b-a34a-8f35e2449b36)

![ภาพ](https://github.com/user-attachments/assets/776d6052-32d6-4d39-a5d7-2af3b31b9785)

![ภาพ](https://github.com/user-attachments/assets/c2a9e769-ae3f-45df-bac9-aae2a01c808b)

![ภาพ](https://github.com/user-attachments/assets/90ca468a-9632-4a1d-8dfe-a8ca78ea33f8)

![ภาพ](https://github.com/user-attachments/assets/fc0fe7cd-321d-4c8a-9dde-ab5c4c46f1c1)
![ภาพ](https://github.com/user-attachments/assets/7230e825-7c78-4347-acb3-fafebcee72cd)

![ภาพ](https://github.com/user-attachments/assets/186ea217-9f1b-4a23-b751-7c9769ba4802)

![ภาพ](https://github.com/user-attachments/assets/fac2c135-c19e-4b8f-a4a9-98ffad030b0a)
![ภาพ](https://github.com/user-attachments/assets/b697c75d-ea2d-4016-a5bf-e7201350c46f)
![ภาพ](https://github.com/user-attachments/assets/45f1db1e-c1d0-4a01-9373-bfc40fff26c6)

![ภาพ](https://github.com/user-attachments/assets/7b23a4ae-0875-4c6d-9c70-c15be0653e41)

![ภาพ](https://github.com/user-attachments/assets/c5e4273c-c380-4231-b9de-7be2956f2c37)

![ภาพ](https://github.com/user-attachments/assets/7f8286d7-4bf1-4fca-8e39-1bd6a03b1de6)

![ภาพ](https://github.com/user-attachments/assets/9a3355ac-1c3f-4328-9084-677ca6ce12e6)

##  สิ่งที่ต้องรู้เกี่ยวกับ modbus tcp/ip คือ
![ภาพ](https://github.com/user-attachments/assets/0e1f4411-513c-4c00-b24d-6e5ee26b4410)

####  ตัว modbus io เชื่อมกับ Node Red
![ภาพ](https://github.com/user-attachments/assets/7cfa3030-8367-454b-86eb-448f7b729319)

![ภาพ](https://github.com/user-attachments/assets/ed4166d6-49be-41de-96fd-15d403b8feb0)

https://youtu.be/QmlRDXLxw_Y


### MODBUS
![ภาพ](https://github.com/user-attachments/assets/751e6eb5-0e68-44e3-b7ed-0529bb528382)

![ภาพ](https://github.com/user-attachments/assets/71cedb98-c856-4051-8050-e61a527dba48)

#### โครงสร้างข้อมูล
![ภาพ](https://github.com/user-attachments/assets/62503b8f-b557-4c87-8a90-e44110117523)

![ภาพ](https://github.com/user-attachments/assets/5962305b-93a9-44bf-9149-b5bb965966f5)

#### อุปกรณ์ 

![ภาพ](https://github.com/user-attachments/assets/4eb305dd-5ed7-44c8-b3bf-0e022917ef87)

#### การกระทำกับ หน่วยความจำ การอ่านและเขียน

![ภาพ](https://github.com/user-attachments/assets/62f51f24-eb78-4d3f-b47a-f9bd4a568cfe)


![ภาพ](https://github.com/user-attachments/assets/5e3d999f-6d0c-472c-a86b-0e969f9c633b)


![ภาพ](https://github.com/user-attachments/assets/4125d626-84d6-41c9-b21d-dec77977d3f8)



![ภาพ](https://github.com/user-attachments/assets/7ade3d83-c2d9-4bb3-91e5-cf97ca77c8b2)



![ภาพ](https://github.com/user-attachments/assets/97276959-51ed-4a2c-a10f-d82cb18ab002)



![ภาพ](https://github.com/user-attachments/assets/4c9f3374-6938-4f9d-b023-105c2502569c)



![ภาพ](https://github.com/user-attachments/assets/8d3ab3d7-5701-4100-b810-4155bbfea687)


![ภาพ](https://github.com/user-attachments/assets/2c939ffe-9fa6-45f3-a067-3e30d1b79c63)


![ภาพ](https://github.com/user-attachments/assets/360b5933-9717-4bee-868e-3552b0c4ddfb)


![ภาพ](https://github.com/user-attachments/assets/66eb1e3c-d555-4992-a10c-c5cb3b11cf22)


![ภาพ](https://github.com/user-attachments/assets/1ab2c657-6d52-4c95-9bf6-f17f4158f323)



![ภาพ](https://github.com/user-attachments/assets/7baf361f-3a01-4771-ae3d-16d65569f5fe)



![ภาพ](https://github.com/user-attachments/assets/8a1e4b9d-e054-4224-b272-e76bd4c57e23)


## ใช้ได้ในระยะไกล modbus tcp/ip รูปรถบรรนทุก 

![ภาพ](https://github.com/user-attachments/assets/3d75bb26-dd5f-4736-90bb-e2b0420d2ecb)

#### ระเอียดมาก คลิป ช่องเดียวกัน

https://youtu.be/R5RrTYrdh-A

https://youtu.be/HlST1QL4Ehg

https://youtu.be/ojTBbBcI0JQ

##  1.2 MQTT



##  1.3 Rest API



##  1.4 Grpc
